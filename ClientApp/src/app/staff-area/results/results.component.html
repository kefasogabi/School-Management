<div style="margin-top: 20px;">
  <div class="row">
    <div class="col-md-3">
      <form name="form" class="form-inline" (ngSubmit)="getStudent(r)" #r="ngForm" novalidate>
        <div class="form-group mx-sm-3 mb-2">
          <input type="text" class="form-control " [(ngModel)]="name" name="name" placeholder="Username" />
            <!-- <div *ngIf="name.invalid && name.touched" class="validation-error">Session is required</div> -->
        </div>
            <button type="submit" class="btn btn-primary mb-2">Search</button>
      </form>


       <!-- Profile Image -->
       <div *ngIf="student" class="card card-primary card-outline">
        <div class="card-body box-profile">
          <div class="text-center">
            <img class="profile-user-img img-fluid img-circle"
                 src="/uploads/{{student.fileName}}"
                 alt="User profile picture">
          </div>
          <ul class="list-group list-group-unbordered mb-3">
            <li class="list-group-item">
              <b>Username</b> <b class="float-right">{{student.userName}}</b>
            </li>
            <li class="list-group-item">
              <b>Firstname</b> <b class="float-right">{{student.firstName}}</b>
            </li>
            <li class="list-group-item">
              <b>Lastname</b> <b class="float-right">{{student.lastName}}</b>
            </li>
            <li class="list-group-item">
              <b>Class</b> <b class="float-right">{{student.grade.name}}</b>
            </li>
          </ul>
        </div>
        <!-- /.card-body -->
      </div>
      <!-- /.card -->
    </div>
    <div class="col-md-9">
        <div *ngIf="student" class="card">
            <div class="card-body">
        
        <div  class=" ">
          <div style="margin-top:20px;" class="" >

            <button style="font-weight:bolder;"  data-toggle="modal" data-target="#myModal"  class="btn btn-primary btn-sm col-md-4 offset-md-4"> <i class="fa fa-floppy-o"></i> Add Term</button>


            <!-- modal begins here -->
            <div class="modal fade"  id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
              <div class="modal-dialog" role="document">
                <div class="modal-content">
                  <div class="modal-header">
                      <h4 class="modal-title" id="myModalLabel">Add new Term to student</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                      <span aria-hidden="true">&times;</span>
                    </button>
                  </div>
                  <div class="modal-body">
                    <form name="form" class="" (ngSubmit)="setT(t)" #t="ngForm" novalidate>
                      <input  type="hidden" name="studentId" #studentId="ngModel" [(ngModel)]="student.id"   >
                    <div class="row">
                            <div class="form-group col-md-12" > 
                              <select class="form-control" [(ngModel)]="model.termid" name="termid" required #termid="ngModel" >
                                  <option >Select Term </option>
                                  <option *ngFor="let t of terms" value="{{t.id}}">{{t.name}}</option>
                              </select>
                              <div class="validation-error" *ngIf="termid.touched && termid.invalid">Please Select Term</div>
                          </div>
                      
                  </div>
                      </form> 
                  </div>
                  <div class="modal-footer">
                    
                    <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
                    <button type="button" (click)="postTerm(t)" data-dismiss="modal" class="btn btn-primary">Submit</button>
                  </div>
                </div>
              </div>
            </div> <!--modal ends here-->

           

                <br />
                <br>

                
                    <div class="">
                        

                <div style="margin-top:20px;" >
                  <form name="form"  (ngSubmit)="postResult(result)" #result="ngForm" novalidate >
                    
                    <input  type="hidden" name="studentId" #studentId="ngModel" [(ngModel)]="student.id"   >
                      <div class="form-group  " >
                          <select class="form-control" [(ngModel)]="student.term" name="year" required #year="ngModel" >
                              <option selected="selected" >Select Term </option>
                              <option *ngFor="let term of student.terms" value="{{term.name}}">{{term.name}}</option>
                          </select>
                          <div class="validation-error" *ngIf="year.touched && year.invalid">Please Select Term</div>
                      </div>
                      <div class="row">
                      <div class=" col-2" >
                        <input type="text" class="form-control" name="name" [(ngModel)]="result.name" #name="ngModel" placeholder="Subject" required />
                        <div *ngIf="name.touched && name.invalid"  class="validation-error">Subject is required</div>
                    </div>
                    <div class=" col-2" >
                      <input type="text" class="form-control" name="cA1" [(ngModel)]="result.cA1" #cA1="ngModel" placeholder="1st CA" required />
                      <div *ngIf="cA1.touched && cA1.invalid"  class="validation-error">1st CA is required</div>
                  </div>
                  <div class=" col-2" >
                    <input type="text" class="form-control" name="cA2" [(ngModel)]="result.cA2" #cA2="ngModel" placeholder="2nd CA" required />
                    <div *ngIf="cA2.touched && cA2.invalid"  class="validation-error">2nd CA is required</div>
                </div>
                <div class=" col-md-2" >
                  <input type="text" class="form-control" name="exam" [(ngModel)]="result.exam" #exam="ngModel" placeholder="Exam" required />
                  <div *ngIf="exam.touched && exam.invalid"  class="validation-error">Exam is required</div>
              </div>
              <div class=" col-md-2">
                <button [disabled]="!result.valid" class="btn btn-primary">Add</button>
              </div>
            </div> 
                  </form>
                </div>

        </div>
       
      </div>
      </div>



    </div>
    </div>
    </div>
  </div>
</div>

